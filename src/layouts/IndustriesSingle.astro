---
import React from "react";
import ChevronRight from "../icons/chevronRight.tsx";
import Button from "../components/button.tsx";
import "../assets/main.css";

const { industry } = Astro.props;
// console.log(industry);
const {
  title,
  category,
  sub_category,
  heroimage,
  heading,
  sub_heading,
  value_prop,
  featured_article1_heading,
  featured_article1_description,
  featured_article1_image,
  featured_article1_slug,
  expertise_heading,
  expertise_subheading,
  expertise_heroimage,
  expertise_detail,
  featured_article2_heading,
  featured_article2_description,
  featured_article2_image,
  featured_article2_slug,
  case_studies_heading,
  case_studies_subheading,
  case_studies_description,
  case_studies_category,
  case_studies_items,
  videosection_videotitle,
  videosection_videourl,
  videosection_heroimage,
  related_articles_heading,
  related_articles_subheading,
  related_articles_description,
  related_articles_category,
  related_articles_items,
} = industry.data;

const { Content } = await industry.render();
const banner_img = {
  backgroundImage: "url('" + heroimage + "');",
};
const expertise_bg = {
  backgroundImage: "url('" + expertise_heroimage + "')",
};
const video_bg = {
  backgroundImage: "url('" + videosection_heroimage + "')",
};
const alt_section_style = {
  backgroundColor: "#7800FF",
};
const category_url = "/" + category;
const category_name = category[0].toUpperCase() + category.slice(1);
const sub_heading_display = sub_heading.toUpperCase();
const featured_article1_link = featured_article1_slug;
const featured_article2_link = featured_article2_slug;
const expertise_table_colours = [
  "#169b9a",
  "#1ED8D4",
  "#53EBE7",
  "#8AF0EE",
  "#BCF7F6",
];
const expertise_subheading_display = expertise_subheading.toUpperCase();
const casestudies_subheading_display = case_studies_subheading.toUpperCase();
const videosection_description = "Content to be added";
---

<section class="detailedpage_banner_topper">
  <div class="container">
    <div class="wrapper">
      <div class="detailedpage_banner_topper_categoryheading">
        <a href={category_url}>{category_name}</a>
      </div>
      <ChevronRight />

      <div class="detailedpage_banner_topper_mainheading">
        <p>{title}</p>
      </div>
    </div>
  </div>
</section>
<section class="bg-hero" style={banner_img}>
  <div class="container">
    <div class="contentWrapper">
      <p class="subHeading">{sub_heading_display}</p>
      <h1 class="heading">{heading}</h1>
    </div>
  </div>
</section>
<section class="about">
  <div class="container">
    <div class="aboutDesc">{value_prop}</div>
  </div>
</section>
<section class="expertise">
  <div class="container">
    <p class="subHeading">{expertise_subheading_display}</p>
    <h2 class="sectionHeading">{expertise_heading}</h2>
    {
      expertise_detail.map((item: any, index: any) => (
        <a href={"../expertise/" + item.slug}>
          <div
            class="detailedpage_expertiseitem_container"
            style={{ backgroundColor: expertise_table_colours[index] }}
          >
            <div class="detailedpage_expertiseitem_heading">{item.name}</div>
            <div class="expertiseWrapper">
              <p class="detailedpage_expertiseitem_description">
                {item.description}
              </p>
              <ChevronRight />{" "}
            </div>
          </div>
        </a>
      ))
    }
  </div>
</section>

<section class="caseStudies">
  <div class="container">
    <h4 class="subHeading">
      {case_studies_subheading}
    </h4>
    <h2 class="sectionHeading">{case_studies_heading}</h2>
    <p class="desc">{case_studies_description}</p>
    <div class="projectWrapper">
      {
        case_studies_items.map((item: any, index: any) => (
          <div class="project">
            <div class="imgWrapper">
              <img src={item.case_study_image} />
            </div>
            <div class="wrapper">
              <h2 class="title">{item.case_study_title}</h2>
              <h4 class="text">{item.case_study_subheading}</h4>
              <Button
                text={item.case_study_buttontext}
                href={"../casestudies/" + item.case_study_slug}
                className="btn"
              />{" "}
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
<section class="videoSection">
  <div class="container">
    <div class="gridWrapper">
      <div class="leftWrapper">
        <h2 class="heading">{videosection_videotitle}</h2>
        <p class="desc">{videosection_description}</p>
      </div>
      <div class="right">
        <iframe width="420" height="315" src={videosection_videourl}></iframe>
      </div>
    </div>
  </div>
</section>
<section class="caseStudies">
  <div class="container">
    <h4 class="subHeading">
      {related_articles_subheading}
    </h4>
    <h2 class="sectionHeading">{related_articles_heading}</h2>
    <p class="desc">{related_articles_description}</p>
    <div class="projectWrapper">
      {
        related_articles_items.map((item: any, index: any) => (
          <div class="project">
            <a href={"../pulse/" + item.related_article_slug}>
              <div class="imgWrapper">
                <img src={item.related_article_image} />
              </div>
              <div class="wrapper">
                <h2 class="title">{item.related_article_title}</h2>
                <h4 class="text">{item.related_article_subheading}</h4>

                <Button
                  className="btn"
                  text={item.related_article_buttontext}
                  href={"../pulse/" + item.related_article_slug}
                />
              </div>
            </a>
          </div>
        ))
      }
    </div>
  </div>
</section>
